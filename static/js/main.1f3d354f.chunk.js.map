{"version":3,"sources":["components/japan-map.module.css","components/japan-map-label.module.css","utils/helpers.js","components/SummaryChart.js","views/SummaryView.js","components/NumberSummary.js","components/TopNumbers.js","views/TitleView.js","components/DemographyChart.js","views/DemographyView.js","components/TestedChart.js","views/TestedView.js","components/PrefectureChart.js","views/PrefectureView.js","components/JapanMap.js","components/JapanMapLabel.js","views/MapView.js","components/SymptomsChart.js","views/SymptomsView.js","components/TimelineChart.js","components/TimelineInfo.js","views/TimelineView.js","views/ThanksView.js","pages/Home.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","uniqByKeepLast","a","key","Map","map","x","values","getPercentage","base","value","toFixed","formatNumber","number","toString","replace","summaryChartOptions","tooltips","mode","intersect","itemSort","arr","callbacks","title","items","data","date","label","deaths","datasets","datasetIndex","index","recovered","active","cases","Number","tooltipItem","category","set","get","hover","legend","display","scales","xAxes","gridLines","ticks","maxRotation","callback","Date","toLocaleDateString","fontColor","yAxes","stacked","SummaryChart","timeline","japanActive","japanRecovered","japanDeaths","chartRef","React","useRef","useEffect","contextRef","current","getContext","Chart","type","labels","t","backgroundColor","borderColor","pointRadius","hitRadius","options","height","ref","SummaryView","SUMMARY_DATA","summary","className","SUMMARY_COLORS","getColor","NumberSummary","percentage","console","log","TopNumbers","total","summaries","Object","entries","TitleView","length","demographyChartOptions","DemographyChart","demography","chartLabels","d","generation","infected","others","serious","DemographyView","DEMOGRAPHY","testedChartOptions","TestedChart","tested","testedPositive","TestedView","s","prefectureChartOptions","PrefectureChart","prefecture","PrefectureView","latestPrefectureData","PREFECTURE_INFECTIONS","it","sort","b","prefectureInfections","p","getSeverity","id","code","prefectureName","PREFECTURES","find","en","infection","ranking","indexOf","JapanMap","updatedLayers","Japan","layers","l","paintedJapan","styles","japan","JapanMapLabel","mapLabel","MapView","style","top","paddingTop","paddingBottom","symptomsChartOptions","SymptomsChart","symptoms","asymptomatic","symptomatic","SymptomsView","cases_with_symptoms","TimelineChart","events","updateFeatured","timelineChartOptions","event","TIMELINE","eventData","e","hasEvent","val","hoverRadius","TimelineReader","dateString","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","toShortDate","TimelineView","useState","featured","c","TimelineInfo","ThanksView","author","link","desc","source","href","target","rel","Home","name","content","property","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1f3d354f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"japan\":\"japan-map_japan__3XM7i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapLabel\":\"japan-map-label_mapLabel__lCrgx\"};","export function uniqByKeepLast(a, key) {\r\n  return [\r\n      ...new Map(\r\n          a.map(x => [key(x), x])\r\n      ).values()\r\n  ]\r\n}\r\n\r\nexport function getPercentage(base, value) {\r\n  return ((value / base) * 100).toFixed(2)\r\n}\r\n\r\nexport function formatNumber(number) {\r\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n}","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport { formatNumber } from 'utils/helpers'\r\n\r\nexport const summaryChartOptions = {\r\n  tooltips: {\r\n    mode: 'index',\r\n    intersect: false,\r\n    itemSort: (arr) => arr,\r\n    callbacks: {\r\n      title: (items, data) => {\r\n        const date = items[2].label\r\n        const deaths = data.datasets[items[0].datasetIndex].data[items[0].index]\r\n        const recovered = data.datasets[items[1].datasetIndex].data[items[0].index]\r\n        const active = data.datasets[items[2].datasetIndex].data[items[0].index]\r\n        const cases = Number(deaths) + Number(recovered) + Number(active)\r\n        return `${date} - Cases: ${formatNumber(cases)}`\r\n      },\r\n      label: (tooltipItem) => {\r\n        const categories = new Map()\r\n          .set(0, 'Deaths')\r\n          .set(1, 'Recovered')\r\n          .set(2, 'Active')\r\n\r\n        const category = categories.get(tooltipItem.datasetIndex)\r\n        return `${category}: ${formatNumber(tooltipItem.value)}`\r\n      }\r\n    }\r\n  },\r\n  hover: {\r\n    mode: 'index',\r\n    intersect: false,\r\n  },\r\n  legend: {\r\n    display: false,\r\n    // onHover: (e) => {\r\n    //    e.target.style.cursor = 'pointer'\r\n    // },\r\n    // labels: {\r\n    //   fontColor: '#f7fafc',\r\n    // },\r\n  },\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        gridLines: {\r\n          display: false,\r\n        },\r\n        ticks: {\r\n          maxRotation: 0,\r\n          callback: (value, index) => {\r\n            const currentDate = new Date(value)\r\n            currentDate.toLocaleDateString('en-US')\r\n\r\n            return index % 2 !== 1 ? value.replace('2020/', '') : ''\r\n          },\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          callback: value => formatNumber(value),\r\n          fontColor: '#a0aec0'\r\n        },\r\n        stacked: true,\r\n      },\r\n    ],\r\n  },\r\n}\r\n\r\nfunction SummaryChart({ timeline }) {\r\n  const japanActive = timeline.active\r\n  const japanRecovered = timeline.recovered\r\n  const japanDeaths = timeline.deaths\r\n\r\n  const chartRef = React.useRef(null)\r\n\r\n  React.useEffect(() => {\r\n    const contextRef = chartRef.current.getContext('2d')\r\n\r\n    new Chart(contextRef, {\r\n      type: 'line',\r\n      data: {\r\n        labels: [...japanActive.map(t => t.label)],\r\n        datasets: [\r\n          {\r\n            label: 'Deaths',\r\n            backgroundColor: 'rgba(245, 101, 101, 1)',\r\n            borderColor: 'rgba(245, 101, 101, 1)',\r\n            pointRadius: 0,\r\n            hitRadius: 5,\r\n            data: japanDeaths.map(t => t.value),\r\n          },\r\n          {\r\n            label: 'Recovered',\r\n            backgroundColor: 'rgba(154, 230, 180, 1)',\r\n            borderColor: 'rgba(154, 230, 180, 1)',\r\n            pointRadius: 0,\r\n            hitRadius: 5,\r\n            data: japanRecovered.map(t => t.value),\r\n          },\r\n          {\r\n            label: 'Active',\r\n            backgroundColor: 'rgba(251, 211, 141, 1)',\r\n            borderColor: 'rgba(251, 211, 141, 1)',\r\n            pointRadius: 0,\r\n            hitRadius: 5,\r\n            data: japanActive.map(t => t.value),\r\n          },\r\n        ],\r\n      },\r\n      options: summaryChartOptions,\r\n    })\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <canvas height=\"225px\" ref={chartRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SummaryChart\r\n","import React from 'react'\r\nimport SummaryChart from 'components/SummaryChart'\r\nimport SUMMARY_DATA from 'data/summary.json'\r\n\r\nfunction SummaryView() {\r\n  const cases = SUMMARY_DATA.map(summary => {\r\n    return {\r\n      label: summary.date,\r\n      value: summary.data.cases\r\n    }\r\n  })\r\n\r\n  const recovered = SUMMARY_DATA.map(summary => {\r\n    return {\r\n      label: summary.date,\r\n      value: summary.data.recovered\r\n    }\r\n  })\r\n\r\n  const deaths = SUMMARY_DATA.map(summary => {\r\n    return {\r\n      label: summary.date,\r\n      value: summary.data.deaths\r\n    }\r\n  })\r\n\r\n  const active = SUMMARY_DATA.map(summary => {\r\n    return {\r\n      label: summary.date,\r\n      value: summary.data.active\r\n    }\r\n  })\r\n\r\n  const timeline = {\r\n    cases: cases,\r\n    active: active,\r\n    recovered: recovered,\r\n    deaths:  deaths\r\n  }\r\n\r\n  return (\r\n    <section className=\"mb-6\">\r\n      <SummaryChart timeline={timeline} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default SummaryView\r\n","import React from 'react'\r\nimport { getPercentage, formatNumber } from 'utils/helpers'\r\n\r\nconst SUMMARY_COLORS = new Map()\r\n  .set('cases', 'text-red-200')\r\n  .set('active', 'text-orange-300')\r\n  .set('recovered', 'text-green-300')\r\n  .set('deaths', 'text-red-500')\r\n\r\nfunction getColor(key) {\r\n  return SUMMARY_COLORS.get(key)\r\n}\r\n\r\nfunction NumberSummary({ summary, cases }) {\r\n  const percentage = getPercentage(cases, summary.value)\r\n\r\n  console.log(summary)\r\n\r\n  return (\r\n    <article className=\"flex flex-col mt-4 mr-4 lg:mr-12 last:mr-0\">\r\n      <span className=\"uppercase text-sm font-medium tracking-wider\">\r\n        {summary.key}\r\n      </span>\r\n      <div>\r\n        <span className={`tracking-tighter text-2xl lg:text-3xl ${getColor(summary.key)}`}>{formatNumber(summary.value)}</span>\r\n        {percentage !== '100.00' ? <span className={`ml-2 text-sm font-medium ${getColor(summary.key)}`}>({getPercentage(cases, summary.value)}%)</span> : null} \r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default NumberSummary\r\n","import React from 'react'\r\nimport NumberSummary from 'components/NumberSummary'\r\n\r\nfunction TopNumbers({ total }) {\r\n  const summaries = Object.entries(total)\r\n    .map(arr => {\r\n      return {\r\n        key: arr[0],\r\n        value: arr[1]\r\n      }\r\n    })\r\n\r\n  return (\r\n    <div className=\"flex flex-wrap justify-center mb-6 -mt-4\">\r\n      {summaries.map(summary => (\r\n        <NumberSummary summary={summary} key={summary.key} cases={total.cases} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TopNumbers\r\n","import React from 'react'\r\nimport TopNumbers from 'components/TopNumbers'\r\nimport SUMMARY_DATA from 'data/summary.json'\r\n\r\nfunction TitleView() {\r\n  const total = {\r\n    cases: SUMMARY_DATA[SUMMARY_DATA.length - 1].data.cases,\r\n    active: SUMMARY_DATA[SUMMARY_DATA.length - 1].data.active,\r\n    recovered: SUMMARY_DATA[SUMMARY_DATA.length - 1].data.recovered,\r\n    deaths:  SUMMARY_DATA[SUMMARY_DATA.length - 1].data.deaths\r\n  }\r\n\r\n  return (\r\n    <section className=\"mb-6\">\r\n      <TopNumbers total={total} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default TitleView\r\n","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport { formatNumber } from 'utils/helpers'\r\n\r\nconst demographyChartOptions = {\r\n  tooltips: {\r\n    mode: 'index',\r\n    intersect: false,\r\n    itemSort: (arr) => arr,\r\n    callbacks: {\r\n      label: (tooltipItem) => {\r\n        const categories = new Map()\r\n          .set(0, 'Infected')\r\n          .set(1, 'Serious')\r\n          .set(2, 'Deaths')\r\n\r\n        const category = categories.get(tooltipItem.datasetIndex)\r\n        return `${category}: ${formatNumber(tooltipItem.value)}`\r\n      }\r\n    }\r\n  },\r\n  hover: {\r\n    mode: 'index',\r\n    intersect: false,\r\n  },\r\n  legend: {\r\n    display: false\r\n  },\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        stacked: true,\r\n        gridLines: {\r\n          display: false,\r\n        },\r\n        ticks: {\r\n          callback: value => formatNumber(value),\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n    yAxes: [\r\n      {\r\n        stacked: true,\r\n        ticks: {\r\n          callback: value => value,\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n  },\r\n}\r\n\r\nfunction DemographyChart({ demography }) {\r\n  const chartRef = React.useRef(null)\r\n\r\n  const chartLabels = demography.map(d => d.generation)\r\n\r\n  const deaths = demography.map(d => d.deaths)\r\n  const infected = demography.map(d => d.others)\r\n  const serious = demography.map(d => d.serious)\r\n\r\n  React.useEffect(() => {\r\n    const contextRef = chartRef.current.getContext('2d')\r\n\r\n    new Chart(contextRef, {\r\n      type: 'horizontalBar',\r\n      data: {\r\n        labels: chartLabels,\r\n        datasets: [\r\n          {\r\n            label: 'infected',\r\n            backgroundColor: 'rgba(254, 215, 215, 1)',\r\n            data: infected,\r\n          },\r\n          {\r\n            label: 'serious',\r\n            backgroundColor: 'rgba(252, 129, 129, 1)',\r\n            data: serious,\r\n          },\r\n          {\r\n            label: 'deaths',\r\n            backgroundColor: 'rgba(229, 62, 62, 1)',\r\n            data: deaths,\r\n          },\r\n        ],\r\n      },\r\n      options: demographyChartOptions,\r\n    })\r\n  })\r\n\r\n\r\n  return (\r\n    <div>\r\n      <canvas height=\"150px\" ref={chartRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DemographyChart\r\n","import React from 'react'\r\nimport DemographyChart from 'components/DemographyChart'\r\nimport DEMOGRAPHY from 'data/demography.json'\r\n\r\nfunction DemographyView() {\r\n  return (\r\n    <section className=\"mb-6\">\r\n      <h3 className=\"font-medium text-center mb-6\">Demography</h3>\r\n      <DemographyChart demography={DEMOGRAPHY}/>\r\n      <p className=\"text-xs text-gray-500 mt-6\">\r\n        \"Unknown\" includes undisclosed or under confirmation. This data has different publication date from Japan's Ministry of Health and Labor Welfare so it may be inconsistent with other data.</p>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default DemographyView\r\n","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport { formatNumber } from 'utils/helpers'\r\n\r\nconst testedChartOptions = {\r\n  tooltips: {\r\n    mode: 'index',\r\n    intersect: false,\r\n    itemSort: (arr) => arr,\r\n    callbacks: {\r\n      label: (tooltipItem)=> {\r\n      const categories = new Map()\r\n        .set(0, 'Tested')\r\n        .set(1, 'Positive')\r\n\r\n      const category = categories.get(tooltipItem.datasetIndex)\r\n      return `${category}: ${formatNumber(tooltipItem.value)}`\r\n      }\r\n    }\r\n  },\r\n  hover: {\r\n    mode: 'index',\r\n    intersect: false,\r\n  },\r\n  legend: {\r\n    display: false\r\n  },\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        gridLines: {\r\n          display: false,\r\n        },\r\n        ticks: {\r\n          maxRotation: 0,\r\n          callback: (value, index) => {\r\n            const currentDate = new Date(value)\r\n            currentDate.toLocaleDateString('en-US')\r\n\r\n            return index % 2 !== 1 ? value.replace('2020/', '') : ''\r\n          },\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          callback: value => formatNumber(value),\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n  },\r\n}\r\n\r\nfunction TestedChart({ tested }) {\r\n  const chartRef = React.useRef(null)\r\n\r\n  React.useEffect(() => {\r\n    const contextRef = chartRef.current.getContext('2d')\r\n\r\n    new Chart(contextRef, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: tested.map(t => t.date),\r\n        datasets: [\r\n          {\r\n            label: 'Tested',\r\n            backgroundColor: 'rgba(226, 232, 240, 1)',\r\n            borderColor: 'rgba(226, 232, 240, 1)',\r\n            data: tested.map(t => t.tested),\r\n          },\r\n          {\r\n            label: 'Positive',\r\n            backgroundColor: 'rgba(254, 215, 215, 1)',\r\n            borderColor: 'rgba(254, 215, 215, 1)',\r\n            data: tested.map(t => t.testedPositive),\r\n          },\r\n        ],\r\n      },\r\n      options: testedChartOptions,\r\n    })\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <canvas height=\"150px\" ref={chartRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TestedChart\r\n","import React from 'react'\r\nimport TestedChart from 'components/TestedChart'\r\nimport SUMMARY_DATA from 'data/summary.json'\r\n\r\nfunction TestedView() {\r\n  const tested = SUMMARY_DATA.map(s => {\r\n    return {\r\n      date: s.date,\r\n      tested: s.data.tested,\r\n      testedPositive: s.data.cases\r\n    }\r\n  })\r\n\r\n  return (\r\n    <section className=\"mb-6\">\r\n      <h3 className=\"font-medium text-center mb-6\">Tests</h3>\r\n      <TestedChart tested={tested}/>\r\n      <p className=\"text-xs text-gray-500 mt-6\">Testing is done via polymerase chain reaction (PCR) which can be inaccurate so multiple tests are done on a single person which only counts as one record in this data.</p>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default TestedView\r\n","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport { formatNumber } from 'utils/helpers'\r\n\r\nconst prefectureChartOptions = {\r\n  tooltips: {\r\n    mode: 'index',\r\n    intersect: false,\r\n    itemSort: (arr) => arr,\r\n    callbacks: {\r\n      label: (tooltipItem) => {\r\n        const categories = new Map()\r\n          .set(0, 'Active')\r\n          .set(1, 'Recovered')\r\n          .set(2, 'Deaths')\r\n\r\n        const category = categories.get(tooltipItem.datasetIndex)\r\n        return `${category}: ${formatNumber(tooltipItem.value)}`\r\n      }\r\n    }\r\n  },\r\n  hover: {\r\n    mode: 'index',\r\n    intersect: false,\r\n  },\r\n  legend: {\r\n    display: false\r\n  },\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        stacked: true,\r\n        gridLines: {\r\n          display: false,\r\n        },\r\n        ticks: {\r\n          callback: value => formatNumber(value),\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n    yAxes: [\r\n      {\r\n        stacked: true,\r\n        ticks: {\r\n          callback: value => value,\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n  },\r\n}\r\n\r\n\r\nfunction PrefectureChart({ prefecture }) {\r\n  const chartRef = React.useRef(null)\r\n\r\n  const chartLabels = prefecture.map(d => d.data.prefecture)\r\n  const active = prefecture.map(d => d.data.active)\r\n  const recovered = prefecture.map(d => d.data.recovered)\r\n  const deaths = prefecture.map(d => d.data.deaths)\r\n\r\n  React.useEffect(() => {\r\n    const contextRef = chartRef.current.getContext('2d')\r\n\r\n    new Chart(contextRef, {\r\n      type: 'horizontalBar',\r\n      data: {\r\n        labels: chartLabels,\r\n        datasets: [\r\n          {\r\n            label: 'Active',\r\n            backgroundColor: 'rgba(251, 211, 141, 1)',\r\n            data: active,\r\n          },\r\n          {\r\n            label: 'Recovered',\r\n            backgroundColor: 'rgba(154, 230, 180, 1)',\r\n            data: recovered,\r\n          },\r\n          {\r\n            label: 'Deaths',\r\n            backgroundColor: 'rgba(245, 101, 101, 1)',\r\n            data: deaths,\r\n          },\r\n        ],\r\n      },\r\n      options: prefectureChartOptions,\r\n    })\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <canvas height=\"500px\" ref={chartRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PrefectureChart\r\n","import React from 'react'\r\nimport PrefectureChart from 'components/PrefectureChart'\r\nimport PREFECTURE_INFECTIONS from 'data/prefecture-infections.json'\r\nimport { uniqByKeepLast } from 'utils/helpers'\r\n\r\nfunction PrefectureView() {\r\n  const latestPrefectureData = uniqByKeepLast(PREFECTURE_INFECTIONS, it => it.data.prefecture)\r\n    .sort((a, b) => b.data.cases - a.data.cases)\r\n  \r\n  return (\r\n    <section className=\"mb-6\">\r\n      <h3 className=\"font-medium text-center mb-2\">Prefectures</h3>\r\n      <PrefectureChart prefecture={latestPrefectureData} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default PrefectureView\r\n","import React from 'react'\r\nimport { VectorMap } from '@south-paw/react-vector-maps'\r\nimport Japan from 'constants/japan-vector-map.json'\r\nimport styles from './japan-map.module.css'\r\nimport PREFECTURES from 'constants/prefectures.json'\r\nimport PREFECTURE_INFECTIONS from 'data/prefecture-infections.json'\r\nimport { uniqByKeepLast } from 'utils/helpers'\r\n\r\nconst prefectureInfections = uniqByKeepLast(PREFECTURE_INFECTIONS, it => it.data.prefecture)\r\n  .sort((a, b) => b.data.cases - a.data.cases)\r\n  .map(p => {\r\n    return {\r\n      prefecture: p.data.prefecture,\r\n      cases: p.data.cases\r\n    }\r\n  })\r\n\r\nfunction getSeverity(id) {\r\n  const code = id.replace('jp-', '')\r\n  const prefectureName = PREFECTURES.find(p => Number(p.code) === Number(code)).en\r\n  const infection = prefectureInfections.find(p => p.prefecture === prefectureName)\r\n\r\n  if (Number(infection.cases) === 0) {\r\n    return ''\r\n  }\r\n\r\n  const ranking = prefectureInfections.indexOf(infection) + 1\r\n\r\n  if (ranking <= 10) {\r\n    return 'one'\r\n  }\r\n\r\n  if (ranking <= 20) {\r\n    return 'two'\r\n  }\r\n  \r\n  if (ranking <= 30) {\r\n    return 'three'\r\n  }\r\n  \r\n  if (ranking <= 40) {\r\n    return 'four'\r\n  }\r\n\r\n  return 'five'\r\n}\r\n\r\nfunction JapanMap() {\r\n  const updatedLayers = Japan.layers.map(l => {\r\n    return {\r\n      ...l,\r\n      'data-severity': getSeverity(l.id)\r\n    }\r\n  })\r\n\r\n  const paintedJapan = {\r\n    ...Japan,\r\n    layers: updatedLayers\r\n  }\r\n  \r\n  return (\r\n    <div className={styles.japan}>\r\n      <VectorMap {...paintedJapan} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JapanMap\r\n","import React from 'react'\r\nimport styles from './japan-map-label.module.css'\r\n\r\nfunction JapanMapLabel() {\r\n  return (\r\n    <div className={`${styles.mapLabel} flex flex-col`}>\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-3 h-3 rounded-sm bg-red-600 mr-2\"/>\r\n        <span className=\"text-xs text-gray-500\">top 10 in # of cases</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-3 h-3 rounded-sm bg-red-400 mr-2\"/>\r\n        <span className=\"text-xs text-gray-500\">top 11-20 in # of cases</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-3 h-3 rounded-sm bg-orange-400 mr-2\"/>\r\n        <span className=\"text-xs text-gray-500\">top 21-30 in # of cases</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-3 h-3 rounded-sm bg-orange-300 mr-2\"/>\r\n        <span className=\"text-xs text-gray-500\">top 31-40 in # of cases</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-3 h-3 rounded-sm bg-orange-200 mr-2\"/>\r\n        <span className=\"text-xs text-gray-500\">top 41+ in # of cases</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-3 h-3 rounded-sm bg-gray-600 mr-2\"/>\r\n        <span className=\"text-xs text-gray-500\">no cases</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JapanMapLabel\r\n","import React from 'react'\r\nimport JapanMap from 'components/JapanMap'\r\nimport JapanMapLabel from 'components/JapanMapLabel'\r\n\r\nfunction MapView() {\r\n  const style = {\r\n    top: '6rem',\r\n    paddingTop: '2rem',\r\n    paddingBottom: '2rem'\r\n  }\r\n\r\n  return (\r\n    <div className=\"sticky\" style={style}>\r\n      <JapanMap />  \r\n      <JapanMapLabel />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MapView\r\n","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport { formatNumber } from 'utils/helpers'\r\n\r\nconst symptomsChartOptions = {\r\n  tooltips: {\r\n    mode: 'index',\r\n    intersect: false,\r\n    itemSort: (arr) => arr,\r\n    callbacks: {\r\n      label: (tooltipItem)=> {\r\n      const categories = new Map()\r\n        .set(0, 'Asymptomatic')\r\n        .set(1, 'Symptomatic')\r\n\r\n      const category = categories.get(tooltipItem.datasetIndex)\r\n      return `${category}: ${formatNumber(tooltipItem.value)}`\r\n      }\r\n    }\r\n  },\r\n  hover: {\r\n    mode: 'index',\r\n    intersect: false,\r\n  },\r\n  legend: {\r\n    display: false\r\n  },\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        gridLines: {\r\n          display: false,\r\n        },\r\n        ticks: {\r\n          maxRotation: 0,\r\n          callback: (value, index) => {\r\n            const currentDate = new Date(value)\r\n            currentDate.toLocaleDateString('en-US')\r\n\r\n            return index % 2 !== 1 ? value.replace('2020/', '') : ''\r\n          },\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          callback: value => formatNumber(value),\r\n          fontColor: '#a0aec0'\r\n        },\r\n      },\r\n    ],\r\n  },\r\n}\r\n\r\nfunction SymptomsChart({ symptoms }) {\r\n  const chartRef = React.useRef(null)\r\n\r\n  React.useEffect(() => {\r\n    const contextRef = chartRef.current.getContext('2d')\r\n\r\n    new Chart(contextRef, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: [...symptoms.map(s => s.label)],\r\n        datasets: [\r\n          {\r\n            label: 'Asymptomatic',\r\n            backgroundColor: 'rgba(226, 232, 240, 1)',\r\n            borderColor: 'rgba(226, 232, 240, 1)',\r\n            data: symptoms.map(s => s.asymptomatic),\r\n          },\r\n          {\r\n            label: 'Symptomatic',\r\n            backgroundColor: 'rgba(254, 215, 215, 1)',\r\n            borderColor: 'rgba(254, 215, 215, 1)',\r\n            data: symptoms.map(s => s.symptomatic),\r\n          }\r\n        ],\r\n      },\r\n      options: symptomsChartOptions,\r\n    })\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <canvas height=\"150px\" ref={chartRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SymptomsChart\r\n","import React from 'react'\r\nimport SymptomsChart from 'components/SymptomsChart'\r\nimport SUMMARY_DATA from 'data/summary.json'\r\n\r\nfunction SymptomsView() {\r\n  const symptoms = SUMMARY_DATA.map(summary => {\r\n    return {\r\n      label: summary.date,\r\n      symptomatic: summary.data.cases_with_symptoms,\r\n      asymptomatic: Number(summary.data.cases) - Number(summary.data.cases_with_symptoms),\r\n    }\r\n  })\r\n\r\n  return (\r\n    <section className=\"mb-6\">\r\n      <h3 className=\"font-medium text-center mb-6\">Symptoms</h3>\r\n      <SymptomsChart symptoms={symptoms}/>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default SymptomsView\r\n","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport { formatNumber } from 'utils/helpers'\r\nimport TIMELINE from 'data/timeline.json'\r\n\r\nfunction TimelineChart({ events, updateFeatured }) {\r\n  const timelineChartOptions = {\r\n    tooltips: {\r\n      mode: 'index',\r\n      intersect: false,\r\n      itemSort: (arr) => arr,\r\n      callbacks: {\r\n        label: (tooltipItem) => {\r\n          const date = tooltipItem.label\r\n\r\n          const event = TIMELINE.find(t => t.date === date)\r\n          if (!!event) {\r\n            updateFeatured(event)\r\n          }\r\n\r\n          return tooltipItem.datasetIndex !== 0 ? `Cases: ${formatNumber(tooltipItem.value)}` : ''\r\n        }\r\n      }\r\n    },\r\n    hover: {\r\n      mode: 'index',\r\n      intersect: false,\r\n    },\r\n    legend: {\r\n      display: false,\r\n      // onHover: (e) => {\r\n      //    e.target.style.cursor = 'pointer'\r\n      // },\r\n      // labels: {\r\n      //   fontColor: '#f7fafc',\r\n      // },\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n          gridLines: {\r\n            display: false,\r\n          },\r\n          ticks: {\r\n            maxRotation: 0,\r\n            callback: (value, index) => {\r\n              const currentDate = new Date(value)\r\n              currentDate.toLocaleDateString('en-US')\r\n  \r\n              return index % 2 !== 1 ? value.replace('2020/', '') : ''\r\n            },\r\n            fontColor: '#a0aec0'\r\n          },\r\n        },\r\n      ],\r\n      yAxes: [\r\n        {\r\n          ticks: {\r\n            callback: value => formatNumber(value),\r\n            fontColor: '#a0aec0'\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  }\r\n\r\n  const chartRef = React.useRef(null)\r\n\r\n  React.useEffect(() => {\r\n    const contextRef = chartRef.current.getContext('2d')\r\n\r\n    const eventData = events.map(e => e.hasEvent ? Number(e.value) + 500 : 0)\r\n\r\n    new Chart(contextRef, {\r\n      data: {\r\n        labels: events.map(e => e.label),\r\n        datasets: [\r\n          {\r\n            type: 'scatter',\r\n            label: 'Events',\r\n            backgroundColor: '#63b3ed',\r\n            data: eventData,\r\n            pointRadius: eventData.map(val => val !== 0 ? 3 : 0),\r\n            hitRadius: eventData.map(val => val !== 0 ? 1 : 0),\r\n            hoverRadius: eventData.map(val => val !== 0 ? 4 : 0),\r\n          },\r\n          {\r\n            type: 'line',\r\n            label: 'Cases',\r\n            backgroundColor: 'rgba(254, 215, 215, 0.8)',\r\n            data: events.map(e => e.value),\r\n            pointRadius: 0,\r\n            hoverRadius: 0\r\n          }\r\n        ],\r\n      },\r\n      options: timelineChartOptions\r\n    })\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <canvas height=\"100px\" ref={chartRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TimelineChart\r\n","import React from 'react'\r\n\r\nfunction TimelineReader({ event }) {\r\n\r\n  const toShortDate = (dateString) => {\r\n    const date = new Date(dateString)\r\n    const ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(date)\r\n    const mo = new Intl.DateTimeFormat('en', { month: 'short' }).format(date)\r\n    const da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(date)\r\n    return `${mo} ${da}, ${ye}`\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"text-gray-400 mb-2 text-xs uppercase font-medium\">\r\n        { toShortDate(event.date) }\r\n      </p>\r\n      { event.events.map(event => <p className=\"text-gray-400 text-sm mb-2 last:mb-0\">{ event }</p>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TimelineReader\r\n","import React from 'react'\r\nimport TimelineChart from 'components/TimelineChart'\r\nimport SUMMARY_DATA from 'data/summary.json'\r\nimport TIMELINE from 'data/timeline.json'\r\nimport { uniqByKeepLast } from 'utils/helpers'\r\nimport TimelineInfo from 'components/TimelineInfo'\r\n\r\nfunction TimelineView() {\r\n  const [featured, updateFeatured] = React.useState(TIMELINE[TIMELINE.length - 1])\r\n\r\n  const dates = [\r\n    ...SUMMARY_DATA.map(s => s.date),\r\n    ...TIMELINE.map(t => t.date)\r\n  ]\r\n\r\n  const combinedDates = uniqByKeepLast(dates, val => val)\r\n    .sort((a, b) => b.date - a.date)\r\n\r\n  const events = combinedDates.map(date => {\r\n    const infection = SUMMARY_DATA.find(c => c.date === date)\r\n    const event = TIMELINE.find(t => t.date === date)\r\n\r\n    return {\r\n      label: date,\r\n      value: infection ? infection.data.cases : '',\r\n      hasEvent: !!event\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"font-medium text-center mb-6\">Timeline</h3>\r\n      <section className=\"flex flex-col lg:flex-row\">\r\n        <div className=\"w-100 lg:w-3/5 lg:mr-2\">\r\n          <TimelineChart events={events} updateFeatured={updateFeatured} />\r\n        </div>\r\n        <div className=\"w-100 lg:w-2/5\">\r\n          <TimelineInfo event={featured}/>\r\n        </div>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TimelineView\r\n","import React from 'react'\r\n\r\nfunction ThanksView() {\r\n  const sources = [\r\n    {\r\n      title: 'Quarantine Now',\r\n      author: 'by Ben Kuhn and Yuri Vishnevsky',\r\n      link: 'https://observablehq.com/@yurivish/quarantine-now',\r\n      desc: 'My initial inspiration for creating this project.'\r\n    },\r\n    {\r\n      title: 'COVID-19 Situation Report in Japan',\r\n      author: 'by toyokeizai.net and Kazuki Ogiwara',\r\n      link: 'https://toyokeizai.net/sp/visual/tko/covid19/en.html',\r\n      desc: 'My main source of data.'\r\n    },\r\n    {\r\n      title: 'Coronavirus Cases in Japan by Prefecture',\r\n      author: 'by nippon.com',\r\n      link: 'https://www.nippon.com/en/japan-data/h00657/coronavirus-cases-in-japan-by-prefecture.html',\r\n      desc: 'The source of data in timeline events. If you want a more detailed data, I recommend reading the article.'\r\n    },\r\n  ]\r\n\r\n\r\n  return (\r\n    <section className=\"mb-6\">\r\n      <h3 className=\"font-medium text-center mb-6\">Thanks</h3>\r\n      <ul className=\"text-gray-400 text-sm list-disc\">\r\n        {sources.map(source => {\r\n          return (\r\n            <li className=\"mb-6 last:mb-0\">\r\n              <div className=\"flex\">\r\n                <a href={source.link} target=\"_blank\" rel=\"noreferrer noopener\" className=\"font-medium mr-2 hover:underline\">{ source.title}</a>\r\n                <span className=\"text-gray-500\">{source.author}</span>\r\n              </div>\r\n              <p>\r\n                { source.desc }\r\n              </p>\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ThanksView\r\n","import React from 'react'\r\nimport MetaTags from 'react-meta-tags'\r\nimport SummaryView from 'views/SummaryView'\r\nimport TitleView from 'views/TitleView'\r\nimport DemographyView from 'views/DemographyView'\r\nimport TestedView from 'views/TestedView'\r\nimport PrefectureView from 'views/PrefectureView'\r\nimport MapView from 'views/MapView'\r\nimport SymptomsView from 'views/SymptomsView'\r\nimport TimelineView from 'views/TimelineView'\r\nimport ThanksView from 'views/ThanksView'\r\n\r\nfunction Home() {\r\n  return (\r\n    <main className=\"bg-gray-800 text-gray-400 text-lg\">\r\n      <MetaTags>\r\n        <title>Japan COVID-19 Status</title>\r\n        <meta name=\"description\" content=\"Japan COVID-19 Status\" />\r\n        <meta property=\"og:title\" content=\"Japan COVID-19 Status\" />\r\n      </MetaTags>\r\n\r\n      <div className=\"container mx-auto p-4\">\r\n        <h1 className=\"font-medium text-gray-200 text-3xl mb-6 text-center\">Japan COVID-19 Status</h1>\r\n        <TitleView />\r\n\r\n        <div className=\"mb-6 flex flex-col lg:flex-row\">\r\n          <div className=\"w-100 lg:w-3/5 lg:mr-24\">\r\n            <SummaryView />\r\n            <PrefectureView />\r\n          </div>\r\n          <div className=\"w-100 lg:w-2/5\">\r\n            <MapView />\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"mb-6\">\r\n          <TimelineView />\r\n        </div>\r\n\r\n        <div className=\"mb-6 flex flex-col lg:flex-row\">\r\n          <div className=\"w-100 lg:w-1/2 lg:mr-8\">\r\n            <DemographyView />\r\n          </div>\r\n          <div className=\"w-100 lg:w-1/2\">\r\n            <TestedView />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mb-6 flex flex-col lg:flex-row\">\r\n          <div className=\"w-100 lg:w-1/2 lg:mr-12\">\r\n            <SymptomsView />\r\n          </div>\r\n          <div className=\"w-100 lg:w-1/2\">\r\n            <ThanksView />\r\n          </div>\r\n        </div>\r\n\r\n        <span className=\"text-xs text-gray-500\">\r\n          Made by <a className=\"underline\" href=\"https://tkmi.dev/\" target=\"_blank\" rel=\"noreferrer noopener\">me</a>.\r\n        </span>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react';\r\nimport Home from './pages/Home'\r\n\r\nfunction App() {\r\n  return (\r\n    <Home />\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './assets/styles/tailwind.css'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}